# Template  

- 템플릿이란?  
장고가 클라이언트에게 반환하는 최종 응답인 HTML 텍스트가 적힌 파일(*.html)을 템플릿이라 함.

- 장고에서 템플릿 파일을 찾는 순서.  
TEMPLATES 항목에 정의된 디렉토리를 먼저 찾고, 그 다음에 INSTALLED APP 항목에 등록된 각 앱의 templates 디렉토리를 찾는다.

- 장고에서의 템플릿.  
장고는 자체 템플릿 엔진을 가지고 있다. 또한 장고에서 제공하는 템플릿은 템플릿 태그/필터 기능을 사용하여 파이썬 코드를 직접 사용할 수 있기 떄문에 확장성이 쉬움.

- 템플릿 코드.  
템플릿 코드란 템플릿 시스템에서만 사용되는 고유의 문법.  
ex) if 태그, for 태그 등.

- 템플릿 태그.    
{% tag %}  
대표적인 태그들: for, if, crsf_token, url, with, load....  

- 템플릿 주석.  
{# #}

- 템플릿 변수.  
{{ variable }}

- 장고의 템플릿 시스템에서의 도트(.)  
파이썬과 조금 다름. 장고에서는 의미부여하는 우선 순위가 있음.  
Ex) foo.bar 의 템플릿 변수 해석.  
1.foo가 사전 타입인지를 확인함. 맞다면 foo['bar']로 해석한다.  
2.1이 아닐시 foo의 속성을 찾음. bar라는 속성이 있으면 foo.bar로 해석한다.  
3.2가 아닐시 foo가 리스트인지를 확인한다. 맞다면 foo[bar]로 해석한다.

- 템플릿 필터.  
필터란 어떤 객체나 처리 결과에 추가적으로 명령을 적용하여 해당 명령에 맞게 최종 결과를 변경하는 것.  
필터를 표시하는 문자: 파이프(|)  
 
- HTML 이스케이프.  
이스케이프 문자: 어떤 부호 또는 언어로부터 이탈하는 것.

- 렌더링.  
템플릿 코드를 템플릿 파일로 해석하는 과정.  
템플릿 파일: HTML, XML, JSON 등의 단순한 텍스트 파일. 

- 렌더링 할때 주의사항.  
만약 템플릿 변수에 HTML 태그가 들어있는 경우, 있는 그대로 렌더링하면 원하지 않는 결과가 나올 수 있다.  
이러한 허점때문에 XXS공격을 당할 수 있다.  
따라서 장고는 이러한 사항을 방지하기 위해 자동 이스케이프 기능을 제공한다.  
but, 자동 이스케이프 기능을 비활성화 시키는 방법도 있다. => safe 필터 사용, {% autoescape %} 태그 사용.

- 장고에서 객체를 렌더링할때의 과정.  
1.렌더링할 객체를 뷰로 가져오기(예를 들어, 데이터베이스로부터 객체를 추출하기).  
2.그 객체를 템플릿 시스템으로 넘겨주기.  
3.템플릿 문법을 처리해서 HTML 마크업 언어로 변환하기.

- 템플릿 상속.  
템플릿 상속의 이점: 템플릿 코드를 재사용할 수 있고, 사이트의 룩앤필을 일관성 있게 보여줌.  
{% block %} ~ {% endblock %}: 상속해줄 부분.
{% extends %}:상속 받는 템플릿.

- HTML에서의 폼.  
폼: 사용자로부터 입력을 받기 위해 사용.  
폼에 입력된 데이터는 서버로 보내진다. 이 데이터를 어디로 보낼지 정해주는 action 속성과 어떤 HTTP 메소드로 보낼지 정해주는 method 속성을 설정해야 한다.  
참고로 장고는 폼의 데이터를 전송할 때는 POST 방식만을 사용한다.  
POST 방식 용도: 서버 시스템의 상태를 바꾸는 요청, 예를 들어 데이터베이스의 내용을 변경하는 요청.

- 장고가 제공하는 폼 처리 기능.  
1.폼 생성에 필요한 데이터를 폼 클래스로 구조화하기.  
2.폼 클래스의 데이터를 렌더링하여 HTML 폼 만들기.  
3.사용자로부터 제출된 폼과 데이터를 수신하고 처리하기.